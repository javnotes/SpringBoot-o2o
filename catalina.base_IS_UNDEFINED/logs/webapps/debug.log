2021-08-03 09:20:53.504 [main] DEBUG cn.vuffy.o2o.dao.UserProductMapDaoTest - Running with Spring Boot v2.1.6.RELEASE, Spring v5.1.8.RELEASE
2021-08-03 09:20:57.601 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapList - ==>  Preparing: SELECT upm.user_product_id, upm.create_time, upm.point, buyer.user_id, buyer.user_name, s.shop_id, s.shop_name, p.product_id, p.product_name, operator.user_id AS operator_id, operator.user_name AS operator_name FROM tb_user_product_map upm, tb_person_info buyer, tb_shop s, tb_product p, tb_person_info operator WHERE upm.user_id = buyer.user_id and upm.shop_id = s.shop_id and upm.product_id = p.product_id and upm.operator_id = operator.user_id and buyer.user_name like '%测试%' ORDER BY upm.create_time desc LIMIT ?, ?;
2021-08-03 09:20:57.647 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapList - ==> Parameters: 0(Integer), 2(Integer)
2021-08-03 09:20:57.687 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapList - <==      Total: 2
2021-08-03 09:20:57.695 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapCount - ==>  Preparing: SELECT count(1) FROM tb_user_product_map upm, tb_person_info buyer, tb_shop s, tb_product p, tb_person_info operator WHERE upm.user_id = buyer.user_id and upm.shop_id = s.shop_id and upm.product_id = p.product_id and upm.operator_id = operator.user_id and buyer.user_name like '%测试%'
2021-08-03 09:20:57.696 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapCount - ==> Parameters: 
2021-08-03 09:20:57.698 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapCount - <==      Total: 1
2021-08-03 09:20:57.703 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapList - ==>  Preparing: SELECT upm.user_product_id, upm.create_time, upm.point, buyer.user_id, buyer.user_name, s.shop_id, s.shop_name, p.product_id, p.product_name, operator.user_id AS operator_id, operator.user_name AS operator_name FROM tb_user_product_map upm, tb_person_info buyer, tb_shop s, tb_product p, tb_person_info operator WHERE upm.user_id = buyer.user_id and upm.shop_id = s.shop_id and upm.product_id = p.product_id and upm.operator_id = operator.user_id and upm.shop_id = ? and buyer.user_name like '%测试%' ORDER BY upm.create_time desc LIMIT ?, ?;
2021-08-03 09:20:57.703 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapList - ==> Parameters: 27(Long), 0(Integer), 3(Integer)
2021-08-03 09:20:57.707 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapList - <==      Total: 3
2021-08-03 09:20:57.709 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapCount - ==>  Preparing: SELECT count(1) FROM tb_user_product_map upm, tb_person_info buyer, tb_shop s, tb_product p, tb_person_info operator WHERE upm.user_id = buyer.user_id and upm.shop_id = s.shop_id and upm.product_id = p.product_id and upm.operator_id = operator.user_id and upm.shop_id = ? and buyer.user_name like '%测试%'
2021-08-03 09:20:57.710 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapCount - ==> Parameters: 27(Long)
2021-08-03 09:20:57.712 [main] DEBUG c.v.o.d.UserProductMapDao.queryUserProductMapCount - <==      Total: 1
2021-08-03 20:07:41.217 [main] DEBUG cn.vuffy.o2o.O2oApplication - Running with Spring Boot v2.1.6.RELEASE, Spring v5.1.8.RELEASE
2021-08-03 20:08:37.147 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopList - ==>  Preparing: SELECT s.shop_id, s.shop_name, s.shop_desc, s.shop_addr, s.phone, s.shop_img, s.priority, s.create_time, s.last_edit_time, s.enable_status, s.advice, a.area_id, a.area_name, sc.shop_category_id, sc.shop_category_name FROM tb_shop s, tb_area a, tb_shop_category sc WHERE s.enable_status = ? AND s.area_id = a.area_id AND s.shop_category_id = sc.shop_category_id ORDER BY s.priority DESC LIMIT ?, ?;
2021-08-03 20:08:37.167 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopList - ==> Parameters: 1(Integer), 0(Integer), 3(Integer)
2021-08-03 20:08:37.186 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopList - <==      Total: 3
2021-08-03 20:08:37.191 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopCount - ==>  Preparing: SELECT count(1) FROM tb_shop s, tb_area a, tb_shop_category sc WHERE s.enable_status = ? AND s.area_id = a.area_id AND s.shop_category_id = sc.shop_category_id
2021-08-03 20:08:37.191 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopCount - ==> Parameters: 1(Integer)
2021-08-03 20:08:37.193 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopCount - <==      Total: 1
2021-08-03 20:08:38.951 [http-nio-8080-exec-10] DEBUG cn.vuffy.o2o.dao.ShopDao.queryByShopId - ==>  Preparing: SELECT s.shop_id, s.shop_name, s.shop_desc, s.shop_addr, s.phone, s.shop_img, s.priority, s.create_time, s.last_edit_time, s.enable_status, s.advice, a.area_id, a.area_name, sc.shop_category_id, sc.shop_category_name FROM tb_shop s, tb_area a, tb_shop_category sc WHERE s.area_id = a.area_id AND s.shop_category_id = sc.shop_category_id AND s.shop_id = ?
2021-08-03 20:08:38.952 [http-nio-8080-exec-10] DEBUG cn.vuffy.o2o.dao.ShopDao.queryByShopId - ==> Parameters: 24(Long)
2021-08-03 20:08:38.957 [http-nio-8080-exec-10] DEBUG cn.vuffy.o2o.dao.ShopDao.queryByShopId - <==      Total: 1
2021-08-03 20:08:38.958 [http-nio-8080-exec-10] DEBUG c.v.o.d.P.queryProductCategoryList - ==>  Preparing: -- 具体的 sal SELECT product_category_id, product_category_name, priority, create_time, shop_id FROM tb_product_category WHERE shop_id = ? ORDER BY priority DESC
2021-08-03 20:08:38.959 [http-nio-8080-exec-10] DEBUG c.v.o.d.P.queryProductCategoryList - ==> Parameters: 24(Long)
2021-08-03 20:08:38.960 [http-nio-8080-exec-9] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductList - ==>  Preparing: SELECT product_id, product_name, product_desc, img_addr, normal_price, promotion_price, priority, point, create_time, last_edit_time, enable_status, product_category_id, shop_id FROM tb_product WHERE shop_id = ? and enable_status = ? ORDER BY priority DESC LIMIT ?, ?;
2021-08-03 20:08:38.961 [http-nio-8080-exec-9] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductList - ==> Parameters: 24(Long), 1(Integer), 0(Integer), 3(Integer)
2021-08-03 20:08:38.962 [http-nio-8080-exec-10] DEBUG c.v.o.d.P.queryProductCategoryList - <==      Total: 0
2021-08-03 20:08:38.963 [http-nio-8080-exec-9] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductList - <==      Total: 0
2021-08-03 20:08:38.964 [http-nio-8080-exec-9] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductCount - ==>  Preparing: SELECT COUNT(1) FROM tb_product WHERE shop_id = ? and enable_status = ?
2021-08-03 20:08:38.964 [http-nio-8080-exec-9] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductCount - ==> Parameters: 24(Long), 1(Integer)
2021-08-03 20:08:38.966 [http-nio-8080-exec-9] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductCount - <==      Total: 1
2021-08-03 20:10:16.647 [http-nio-8080-exec-8] DEBUG c.v.o.dao.LocalAuthDao.queryLocalByUserNameAndPwd - ==>  Preparing: SELECT l.local_auth_id, l.username, l.password, l.create_time, l.last_edit_time, p.user_id, p.user_name, p.gender, p.email, p.profile_img, p.user_type, p.create_time, p.last_edit_time, p.enable_status FROM tb_local_auth l LEFT JOIN tb_person_info p ON l.user_id = p.user_id WHERE l.username = ? AND l.password = ?
2021-08-03 20:10:16.648 [http-nio-8080-exec-8] DEBUG c.v.o.dao.LocalAuthDao.queryLocalByUserNameAndPwd - ==> Parameters: 123(String), 50seqlsl95s52se55566sls5606ss599(String)
2021-08-03 20:10:16.651 [http-nio-8080-exec-8] DEBUG c.v.o.dao.LocalAuthDao.queryLocalByUserNameAndPwd - <==      Total: 1
2021-08-03 20:10:16.847 [http-nio-8080-exec-3] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopList - ==>  Preparing: SELECT s.shop_id, s.shop_name, s.shop_desc, s.shop_addr, s.phone, s.shop_img, s.priority, s.create_time, s.last_edit_time, s.enable_status, s.advice, a.area_id, a.area_name, sc.shop_category_id, sc.shop_category_name FROM tb_shop s, tb_area a, tb_shop_category sc WHERE s.owner_id = ? AND s.area_id = a.area_id AND s.shop_category_id = sc.shop_category_id ORDER BY s.priority DESC LIMIT ?, ?;
2021-08-03 20:10:16.848 [http-nio-8080-exec-3] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopList - ==> Parameters: 5(Long), 0(Integer), 50(Integer)
2021-08-03 20:10:16.853 [http-nio-8080-exec-3] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopList - <==      Total: 3
2021-08-03 20:10:16.855 [http-nio-8080-exec-3] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopCount - ==>  Preparing: SELECT count(1) FROM tb_shop s, tb_area a, tb_shop_category sc WHERE s.owner_id = ? AND s.area_id = a.area_id AND s.shop_category_id = sc.shop_category_id
2021-08-03 20:10:16.855 [http-nio-8080-exec-3] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopCount - ==> Parameters: 5(Long)
2021-08-03 20:10:16.859 [http-nio-8080-exec-3] DEBUG cn.vuffy.o2o.dao.ShopDao.queryShopCount - <==      Total: 1
2021-08-03 20:10:19.870 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductList - ==>  Preparing: SELECT product_id, product_name, product_desc, img_addr, normal_price, promotion_price, priority, point, create_time, last_edit_time, enable_status, product_category_id, shop_id FROM tb_product WHERE shop_id = ? ORDER BY priority DESC LIMIT ?, ?;
2021-08-03 20:10:19.870 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductList - ==> Parameters: 27(Long), 0(Integer), 999(Integer)
2021-08-03 20:10:19.880 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductList - <==      Total: 18
2021-08-03 20:10:19.881 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductCount - ==>  Preparing: SELECT COUNT(1) FROM tb_product WHERE shop_id = ?
2021-08-03 20:10:19.881 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductCount - ==> Parameters: 27(Long)
2021-08-03 20:10:19.883 [http-nio-8080-exec-7] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductCount - <==      Total: 1
2021-08-03 20:10:21.046 [http-nio-8080-exec-5] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductById - ==>  Preparing: SELECT p.product_id, p.product_name, p.product_desc, p.img_addr, p.normal_price, p.promotion_price, p.priority, p.point, p.create_time, p.last_edit_time, p.enable_status, p.product_category_id, p.shop_id, pm.product_img_id, pm.img_addr AS detail_img, pm.img_desc, pm.priority, pm.create_time FROM tb_product p LEFT JOIN tb_product_img pm ON p.product_id = pm.product_id WHERE p.product_id = ? ORDER BY pm.priority DESC
2021-08-03 20:10:21.047 [http-nio-8080-exec-5] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductById - ==> Parameters: 7(Long)
2021-08-03 20:10:21.051 [http-nio-8080-exec-5] DEBUG cn.vuffy.o2o.dao.ProductDao.queryProductById - <==      Total: 1
2021-08-03 20:33:02.619 [main] DEBUG cn.vuffy.o2o.dao.ProductSellDailyDaoTest - Running with Spring Boot v2.1.6.RELEASE, Spring v5.1.8.RELEASE
2021-08-03 20:33:07.018 [main] DEBUG c.v.o.d.ProductSellDailyDao.insertProductSellDaily - ==>  Preparing: INSERT INTO tb_product_sell_daily(product_id, shop_id, create_time, total) (SELECT product_id, shop_id, date_format(create_time, '%Y-%m-%d'), count(product_id) AS total FROM tb_user_product_map WHERE date_format(create_time, '%Y-%m-%d') = date_sub(curdate(), interval 1 day) GROUP BY product_id)
2021-08-03 20:33:07.059 [main] DEBUG c.v.o.d.ProductSellDailyDao.insertProductSellDaily - ==> Parameters: 
2021-08-03 20:51:23.070 [main] DEBUG cn.vuffy.o2o.dao.ProductSellDailyDaoTest - Running with Spring Boot v2.1.6.RELEASE, Spring v5.1.8.RELEASE
2021-08-03 20:51:26.591 [main] DEBUG c.v.o.d.ProductSellDailyDao.insertProductSellDaily - ==>  Preparing: INSERT INTO tb_product_sell_daily(product_id, shop_id, create_time, total) VALUES (SELECT product_id, shop_id, date_format(create_time, '%Y-%m-%d'), count(product_id) AS total FROM tb_user_product_map WHERE date_format(create_time, '%Y-%m-%d') = date_sub(curdate(), interval 1 day) GROUP BY product_id)
2021-08-03 20:51:26.629 [main] DEBUG c.v.o.d.ProductSellDailyDao.insertProductSellDaily - ==> Parameters: 
2021-08-03 21:58:25.815 [main] DEBUG cn.vuffy.o2o.dao.ProductSellDailyDaoTest - Running with Spring Boot v2.1.6.RELEASE, Spring v5.1.8.RELEASE
2021-08-03 21:58:29.927 [main] DEBUG c.v.o.d.ProductSellDailyDao.insertProductSellDaily - ==>  Preparing: INSERT INTO tb_product_sell_daily(product_id, shop_id, create_time, total) (SELECT product_id, shop_id, date_format(create_time, '%Y-%m-%d'), count(product_id) AS total FROM tb_user_product_map WHERE date_format(create_time, '%Y-%m-%d') = date_sub(curdate(), interval 1 day) GROUP BY product_id)
2021-08-03 21:58:29.970 [main] DEBUG c.v.o.d.ProductSellDailyDao.insertProductSellDaily - ==> Parameters: 
